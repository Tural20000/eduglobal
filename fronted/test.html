<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Placement Test - EduGlobal</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --primary: #3498db; --bg: #f4f7f6; --card: #ffffff; }
        body { font-family: 'Poppins', sans-serif; background: var(--bg); margin: 0; padding-top: 80px; }
        
        /* HƏMİŞƏ GÖRÜNƏN ÜST MENYU */
        .fixed-nav {
            position: fixed; top: 0; left: 0; width: 100%; background: var(--card);
            padding: 15px 5%; box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: flex; justify-content: space-between; align-items: center; z-index: 9999; box-sizing: border-box;
        }
        .back-home { text-decoration: none; color: var(--primary); font-weight: 600; display: flex; align-items: center; gap: 8px; }

        .test-container { max-width: 700px; margin: 20px auto; background: white; padding: 30px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.05); }
        .question { display: none; }
        .question.active { display: block; }
        .options-grid { display: grid; gap: 10px; margin-top: 20px; }
        .opt-btn { padding: 15px; border: 2px solid #eee; border-radius: 12px; background: none; cursor: pointer; text-align: left; font-family: inherit; transition: 0.3s; }
        .opt-btn:hover { border-color: var(--primary); background: #f0f9ff; }
        .progress-bar { height: 8px; background: #eee; border-radius: 4px; margin-bottom: 30px; overflow: hidden; }
        .progress-fill { height: 100%; background: var(--primary); width: 0%; transition: 0.4s; }
        #result-box { text-align: center; display: none; }
        .level-badge { font-size: 2.5rem; font-weight: bold; color: #2ecc71; margin: 20px 0; }
    </style>
</head>
<body>

<div class="fixed-nav">
    <a href="index.html" class="back-home"><i class="fas fa-arrow-left"></i> Ana Menyuya Qayıt</a>
    <div style="font-weight: 700; color: #2c3e50;">EduGlobal Placement Test</div>
</div>

<div class="test-container">
    <div id="quiz-area">
        <div class="progress-bar"><div class="progress-fill" id="progress-bar"></div></div>
        <div id="questions-wrapper"></div>
    </div>

    <div id="result-box">
        <h2>Test Tamamlandı!</h2>
        <p>Sizin təxmini səviyyəniz:</p>
        <div class="level-badge" id="level-text">...</div>
        <p id="score-text"></p>
        <a href="index.html" class="back-home" style="justify-content: center; margin-top: 20px;">Kurslara Başla</a>
    </div>
</div>

<script>
const quizData = [
    // A1 Level
    {q: "I ___ a student.", a: ["is", "am", "are", "be"], c: 1},
    {q: "She ___ to school every day.", a: ["go", "goes", "going", "gone"], c: 1},
    {q: "Do you like coffee? - Yes, I ___.", a: ["am", "do", "like", "does"], c: 1},
    {q: "Where ___ they live?", a: ["do", "does", "is", "are"], c: 0},
    {q: "This is ___ apple.", a: ["a", "an", "the", "some"], c: 1},
    // B1 Level
    {q: "I ___ my homework yet.", a: ["didn't finish", "haven't finished", "don't finish", "am not finishing"], c: 1},
    {q: "If I ___ more time, I would travel.", a: ["have", "had", "will have", "would have"], c: 1},
    {q: "English ___ all over the world.", a: ["speaks", "is spoken", "is speaking", "has spoken"], c: 1},
    {q: "He told me that he ___ before.", a: ["never saw", "has never seen", "had never seen", "is never seeing"], c: 2},
    {q: "I am looking forward to ___ you.", a: ["see", "seeing", "saw", "be seen"], c: 1},
    // C1 Level
    {q: "Hardly ___ entered the room when the lights went out.", a: ["I had", "had I", "did I", "I did"], c: 1},
    {q: "I'd rather you ___ smoke in here.", a: ["don't", "not", "didn't", "won't"], c: 2},
    {q: "It's time we ___.", a: ["leave", "left", "leaving", "to leave"], c: 1},
    {q: "Were it not for your help, I ___ successful.", a: ["wouldn't be", "am not", "won't be", "haven't been"], c: 0},
    {q: "She is said ___ the best in her field.", a: ["to be", "being", "is", "that she is"], c: 0},
    // General
    {q: "Despite ___ the weather, they went out.", a: ["bad", "the bad", "being bad", "the badness of"], c: 1},
    {q: "He is ___ tallest boy in class.", a: ["a", "an", "the", "-"], c: 2},
    {q: "I suggest ___ a doctor.", a: ["to see", "see", "seeing", "saw"], c: 2},
    {q: "I've been working here ___ 2010.", a: ["for", "since", "during", "ago"], c: 1},
    {q: "You ___ better hurry up!", a: ["should", "had", "would", "must"], c: 1}
];

let currentQ = 0; let score = 0;

function initQuiz() {
    const wrapper = document.getElementById('questions-wrapper');
    quizData.forEach((data, idx) => {
        const div = document.createElement('div');
        div.className = `question ${idx === 0 ? 'active' : ''}`;
        div.innerHTML = `<h3>${idx + 1}. ${data.q}</h3>
            <div class="options-grid">
                ${data.a.map((opt, i) => `<button class="opt-btn" onclick="next(${i})">${opt}</button>`).join('')}
            </div>`;
        wrapper.appendChild(div);
    });
}

function next(choice) {
    if(choice === quizData[currentQ].c) score++;
    const qs = document.querySelectorAll('.question');
    qs[currentQ].classList.remove('active');
    currentQ++;
    document.getElementById('progress-bar').style.width = `${(currentQ / quizData.length) * 100}%`;
    if(currentQ < quizData.length) { qs[currentQ].classList.add('active'); } 
    else { showResult(); }
}

function showResult() {
    document.getElementById('quiz-area').style.display = 'none';
    const box = document.getElementById('result-box');
    const levelText = document.getElementById('level-text');
    box.style.display = 'block';
    let level = score <= 7 ? "A1 (Beginner)" : score <= 14 ? "B1 (Intermediate)" : "C1 (Advanced)";
    levelText.innerText = level;
    document.getElementById('score-text').innerText = `Doğru: ${score} / 20`;
}
initQuiz();
</script>
</body>
</html>
