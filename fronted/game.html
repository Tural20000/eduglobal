<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Speed Word Match - EduGlobal</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --primary: #3498db; --success: #2ecc71; --error: #e74c3c; --dark: #2c3e50; }
        body { font-family: 'Poppins', sans-serif; background: #f0f2f5; margin: 0; padding-top: 70px; overflow-x: hidden; }
        
        header { position: fixed; top: 0; width: 100%; background: white; padding: 15px 5%; box-shadow: 0 2px 10px rgba(0,0,0,0.1); display: flex; justify-content: space-between; align-items: center; z-index: 1000; box-sizing: border-box; }
        .back-home { text-decoration: none; color: var(--primary); font-weight: 600; }

        /* Oyun Sah…ôsi */
        .stats-bar { display: flex; justify-content: center; gap: 30px; font-size: 1.2rem; font-weight: 700; margin: 15px 0; }
        #timer { color: var(--error); }
        #score { color: var(--success); }

        .game-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); 
            gap: 10px; 
            padding: 20px 5%; 
            max-width: 1200px; 
            margin: auto;
        }

        .word-card { 
            background: white; padding: 15px 5px; border-radius: 8px; cursor: pointer; 
            transition: 0.3s; font-weight: 600; font-size: 0.9rem; text-align: center;
            box-shadow: 0 3px 6px rgba(0,0,0,0.1); border: 2px solid transparent;
            display: flex; align-items: center; justify-content: center; min-height: 60px;
        }
        .word-card:hover { transform: scale(1.05); border-color: var(--primary); }
        .word-card.selected { background: var(--primary); color: white; }
        .word-card.hidden { opacity: 0; pointer-events: none; transform: scale(0.8); }
        .word-card.wrong { background: var(--error); color: white; animation: shake 0.3s; }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        /* Ba≈ülanƒüƒ±c v…ô Son Modal */
        .modal { 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: rgba(0,0,0,0.8); display: flex; align-items: center; 
            justify-content: center; z-index: 2000; text-align: center; color: white;
        }
        .modal-content { background: white; color: #333; padding: 40px; border-radius: 20px; max-width: 400px; width: 90%; }
        .btn-start { background: var(--primary); color: white; padding: 12px 30px; border: none; border-radius: 50px; cursor: pointer; font-size: 1.1rem; font-weight: 700; margin-top: 20px; }
        .btn-cert { background: #9b59b6; color: white; padding: 15px 30px; border-radius: 50px; text-decoration: none; font-weight: 700; display: inline-block; margin-top: 20px; }
    </style>
</head>
<body>

<header>
    <a href="index.html" class="back-home"><i class="fas fa-arrow-left"></i> Geri</a>
    <div style="font-weight: 700; color: var(--primary);">EduGlobal Speed Match</div>
</header>

<div class="stats-bar">
    <div>Vaxt: <span id="timer">60</span>s</div>
    <div>Xal: <span id="score">0</span> / 30</div>
</div>

<div class="game-grid" id="game-grid"></div>

<div id="start-modal" class="modal">
    <div class="modal-content">
        <i class="fas fa-stopwatch" style="font-size: 3rem; color: var(--primary);"></i>
        <h2>Hazƒ±rsƒ±nƒ±z?</h2>
        <p>1 d…ôqiq…ô …ôrzind…ô 30 c√ºtl√ºy√º birl…ô≈üdir…ôr…ôk 30 xal toplamalƒ±sƒ±nƒ±z!</p>
        <button class="btn-start" onclick="startGame()">Oyuna Ba≈üla</button>
    </div>
</div>

<div id="end-modal" class="modal" style="display: none;">
    <div class="modal-content">
        <div id="end-result"></div>
    </div>
</div>

<script>
    const wordPairs = [
        {en: "Always", az: "H…ômi≈ü…ô"}, {en: "Success", az: "Uƒüur"}, {en: "Country", az: "√ñlk…ô"},
        {en: "Danger", az: "T…ôhl√ºk…ô"}, {en: "Example", az: "N√ºmun…ô"}, {en: "Family", az: "Ail…ô"},
        {en: "Garden", az: "Baƒü√ßa"}, {en: "Health", az: "Saƒülamlƒ±q"}, {en: "Improve", az: "T…ôkmill…ô≈üdirm…ôk"},
        {en: "Journey", az: "S…ôyah…ôt"}, {en: "Kitchen", az: "M…ôtb…ôx"}, {en: "Library", az: "Kitabxana"},
        {en: "Mountain", az: "Daƒü"}, {en: "Nature", az: "T…ôbi…ôt"}, {en: "Ocean", az: "Okean"},
        {en: "People", az: "ƒ∞nsanlar"}, {en: "Question", az: "Sual"}, {en: "River", az: "√áay"},
        {en: "Science", az: "Elm"}, {en: "Table", az: "Masa"}, {en: "Universe", az: "Kainat"},
        {en: "Village", az: "K…ônd"}, {en: "Weather", az: "Hava"}, {en: "Yesterday", az: "D√ºn…ôn"},
        {en: "Knowledge", az: "Bilik"}, {en: "Freedom", az: "Azadlƒ±q"}, {en: "Practice", az: "T…ôcr√ºb…ô"},
        {en: "Believe", az: "ƒ∞nanmaq"}, {en: "Challenge", az: "√á…ôtinlik"}, {en: "Future", az: "G…ôl…ôc…ôk"}
    ];

    let selectedCards = [];
    let score = 0;
    let timeLeft = 60;
    let timerInterval;

    function startGame() {
        document.getElementById('start-modal').style.display = 'none';
        initGrid();
        startTimer();
    }

    function initGrid() {
        const grid = document.getElementById('game-grid');
        let cards = [];

        wordPairs.forEach(p => {
            cards.push({ text: p.en, id: p.en, type: 'en' });
            cards.push({ text: p.az, id: p.en, type: 'az' });
        });

        // Kartlarƒ± qarƒ±≈üdƒ±r
        cards.sort(() => Math.random() - 0.5);

        cards.forEach(card => {
            const div = document.createElement('div');
            div.className = 'word-card';
            div.innerText = card.text;
            div.dataset.id = card.id;
            div.onclick = () => handleCardClick(div);
            grid.appendChild(div);
        });
    }

    function handleCardClick(card) {
        if (selectedCards.length === 2 || card.classList.contains('hidden') || card.classList.contains('selected')) return;

        card.classList.add('selected');
        selectedCards.push(card);

        if (selectedCards.length === 2) {
            checkMatch();
        }
    }

    function checkMatch() {
        const [c1, c2] = selectedCards;
        if (c1.dataset.id === c2.dataset.id && c1.innerText !== c2.innerText) {
            // D√úZ TAPILDI
            setTimeout(() => {
                c1.classList.add('hidden');
                c2.classList.add('hidden');
                score++;
                document.getElementById('score').innerText = score;
                selectedCards = [];
                if (score === 30) endGame(true);
            }, 300);
        } else {
            // S∆èHV TAPILDI
            setTimeout(() => {
                c1.classList.add('wrong');
                c2.classList.add('wrong');
                setTimeout(() => {
                    c1.classList.remove('selected', 'wrong');
                    c2.classList.remove('selected', 'wrong');
                    selectedCards = [];
                }, 500);
            }, 300);
        }
    }

    function startTimer() {
        timerInterval = setInterval(() => {
            timeLeft--;
            document.getElementById('timer').innerText = timeLeft;
            if (timeLeft <= 0) {
                clearInterval(timerInterval);
                if (score < 30) endGame(false);
            }
        }, 1000);
    }

    function endGame(isWin) {
        clearInterval(timerInterval);
        const modal = document.getElementById('end-modal');
        const resultDiv = document.getElementById('end-result');
        modal.style.display = 'flex';

        if (isWin) {
            resultDiv.innerHTML = `
                <i class="fas fa-trophy" style="font-size: 4rem; color: #f1c40f;"></i>
                <h2>M√∂ht…ô≈ü…ôm!</h2>
                <p>B√ºt√ºn s√∂zl…ôri 1 d…ôqiq…ôd…ôn tez tapdƒ±nƒ±z.</p>
                <a href="certificate.html" class="btn-cert">Sertifikatƒ± Al üéì</a>
            `;
        } else {
            resultDiv.innerHTML = `
                <i class="fas fa-times-circle" style="font-size: 4rem; color: var(--error);"></i>
                <h2>Vaxt Bitdi!</h2>
                <p>Siz ${score} xal topladƒ±nƒ±z. Sertifikat √º√ß√ºn 30 xal lazƒ±mdƒ±r.</p>
                <button class="btn-start" onclick="location.reload()">Yenid…ôn C…ôhd Et</button>
            `;
        }
    }
</script>
</body>
</html>
