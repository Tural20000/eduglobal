<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B1 Reading Practice - EduGlobal</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --primary: #e67e22; --success: #2ecc71; --error: #e74c3c; --dark: #2c3e50; }
        body { font-family: 'Poppins', sans-serif; background: #f4f7f6; margin: 0; padding-top: 80px; padding-bottom: 40px; }
        
        header { 
            position: fixed; top: 0; left: 0; width: 100%; background: white; 
            padding: 15px 5%; box-shadow: 0 2px 10px rgba(0,0,0,0.1); 
            display: flex; justify-content: space-between; align-items: center; z-index: 1000; box-sizing: border-box;
        }
        .back-home { text-decoration: none; color: var(--primary); font-weight: 700; display: flex; align-items: center; gap: 8px; }

        .reading-container { max-width: 900px; margin: auto; background: white; padding: 40px; border-radius: 20px; box-shadow: 0 5px 25px rgba(0,0,0,0.05); }
        
        .story-header { border-left: 5px solid var(--primary); padding-left: 15px; margin-bottom: 20px; }
        .text-box { 
            background: #f9f9f9; padding: 25px; border-radius: 12px; line-height: 1.8; 
            font-size: 1.05rem; color: #444; margin-bottom: 30px; text-align: justify;
        }

        .question-card { background: white; border: 1px solid #eee; padding: 20px; border-radius: 10px; margin-bottom: 15px; }
        .options { display: grid; gap: 10px; margin-top: 15px; }
        .option-btn { 
            padding: 12px 20px; border: 2px solid #eee; border-radius: 8px; 
            cursor: pointer; text-align: left; background: white; font-family: inherit; transition: 0.2s;
        }
        .option-btn:hover { border-color: var(--primary); }
        .option-btn.selected { background: var(--primary); color: white; border-color: var(--primary); }
        .option-btn.correct { background: var(--success) !important; color: white; border-color: var(--success); }
        .option-btn.wrong { background: var(--error) !important; color: white; border-color: var(--error); }

        .action-area { display: flex; justify-content: space-between; align-items: center; margin-top: 40px; border-top: 2px solid #eee; padding-top: 20px; }
        .btn { padding: 12px 30px; border-radius: 50px; border: none; cursor: pointer; font-weight: 700; font-size: 1rem; transition: 0.3s; }
        .btn-check { background: var(--success); color: white; }
        .btn-next { background: var(--primary); color: white; }
        .btn:disabled { background: #ccc; cursor: not-allowed; }
    </style>
</head>
<body>

<header>
    <a href="index.html" class="back-home"><i class="fas fa-home"></i> Ana Səhifə</a>
    <div style="font-weight: 600;">Level B1: Reading Materials</div>
</header>

<div class="reading-container">
    <div class="story-header">
        <h2 id="story-title">Yüklənir...</h2>
        <small id="story-meta">Mətn <span id="current-num">1</span> / 3</small>
    </div>

    <div class="text-box" id="story-text"></div>

    <div id="questions-area"></div>

    <div class="action-area">
        <button class="btn btn-check" id="check-btn" onclick="checkAnswers()">Cavabları Yoxla</button>
        <button class="btn btn-next" id="next-btn" onclick="nextStory()" style="display:none;">Növbəti Mətn <i class="fas fa-arrow-right"></i></button>
    </div>
</div>

<script>
    const stories = [
        {
            title: "The Future of Artificial Intelligence",
            text: "Artificial Intelligence (AI) is changing the way we live and work. Many experts believe that AI will help doctors find diseases earlier and make cars safer. However, some people are worried about jobs. They think robots will replace humans in factories and offices. In the future, education will be very important. People will need to learn new skills to work alongside intelligent machines. It is clear that technology is moving fast, and we must adapt to these changes to be successful.",
            questions: [
                { q: "What do experts think about AI in medicine?", a: ["It will make doctors lazy", "It will help find diseases earlier", "It will replace all doctors"], correct: 1 },
                { q: "Why are some people worried?", a: ["About their health", "About losing jobs", "About expensive cars"], correct: 1 },
                { q: "Where might robots replace humans?", a: ["In schools", "In factories and offices", "In parks"], correct: 1 },
                { q: "What will be very important in the future?", a: ["Money", "Education", "Travel"], correct: 1 },
                { q: "What do people need to learn?", a: ["Old history", "New skills", "Only sports"], correct: 1 },
                { q: "Is technology moving slowly?", a: ["Yes", "No, it's moving fast", "It's not moving"], correct: 1 },
                { q: "What must we do to be successful?", a: ["Stop using AI", "Adapt to changes", "Ignore technology"], correct: 1 },
                { q: "Can AI make driving safer?", a: ["Yes, according to experts", "No, it's dangerous", "The text doesn't say"], correct: 0 },
                { q: "Who should work alongside machines?", a: ["Nobody", "Humans", "Only animals"], correct: 1 },
                { q: "What is the main idea?", a: ["History of computers", "Impact of AI on life", "How to build a robot"], correct: 1 }
            ]
        },
        {
            title: "Sustainable Living",
            text: "Sustainable living means trying to reduce our use of Earth's natural resources. Many people are now using solar energy to power their homes. They also try to recycle paper, plastic, and glass. Plastic pollution is a major problem for our oceans. Millions of sea animals die every year because of plastic waste. If we change our habits, like using reusable bags and water bottles, we can protect the environment for future generations.",
            questions: [
                { q: "What does sustainable living mean?", a: ["Using more resources", "Reducing resource use", "Living in a forest"], correct: 1 },
                { q: "What is a popular source of home energy?", a: ["Coal", "Solar energy", "Gasoline"], correct: 1 },
                { q: "Which materials do people recycle?", a: ["Only paper", "Paper, plastic, and glass", "Metal only"], correct: 1 },
                { q: "Where is plastic pollution a major problem?", a: ["In space", "In the oceans", "In deserts"], correct: 1 },
                { q: "How many sea animals die from plastic?", a: ["Hundreds", "Thousands", "Millions"], correct: 2 },
                { q: "What can we use instead of plastic bags?", a: ["Paper bags", "Reusable bags", "Nothing"], correct: 1 },
                { q: "Why should we protect the environment?", a: ["For future generations", "To save money", "To become famous"], correct: 0 },
                { q: "Is recycling important?", a: ["No", "Yes", "Only for plastic"], correct: 1 },
                { q: "What is a reusable item mentioned?", a: ["T-shirt", "Water bottle", "Phone"], correct: 1 },
                { q: "What should we change?", a: ["Our clothes", "Our habits", "Our names"], correct: 1 }
            ]
        }
        // Bura 3-cü mətni də eyni formatda əlavə edə bilərsən.
    ];

    let currentStoryIdx = 0;
    let selectedAnswers = new Array(10).fill(null);

    function loadStory() {
        const story = stories[currentStoryIdx];
        document.getElementById('story-title').innerText = story.title;
        document.getElementById('story-text').innerText = story.text;
        document.getElementById('current-num').innerText = currentStoryIdx + 1;
        
        const qArea = document.getElementById('questions-area');
        qArea.innerHTML = "";
        selectedAnswers.fill(null);

        story.questions.forEach((q, qIdx) => {
            const qDiv = document.createElement('div');
            qDiv.className = 'question-card';
            qDiv.innerHTML = `<p><strong>${qIdx + 1}. ${q.q}</strong></p>
                <div class="options">
                    ${q.a.map((opt, optIdx) => `
                        <button class="option-btn" id="q${qIdx}o${optIdx}" onclick="selectOption(${qIdx}, ${optIdx})">${opt}</button>
                    `).join('')}
                </div>`;
            qArea.appendChild(qDiv);
        });
        document.getElementById('next-btn').style.display = 'none';
        document.getElementById('check-btn').disabled = false;
    }

    function selectOption(qIdx, optIdx) {
        selectedAnswers[qIdx] = optIdx;
        const btns = document.querySelectorAll(`.question-card:nth-child(${qIdx + 1}) .option-btn`);
        btns.forEach(b => b.classList.remove('selected'));
        document.getElementById(`q${qIdx}o${optIdx}`).classList.add('selected');
    }

    function checkAnswers() {
        const story = stories[currentStoryIdx];
        let score = 0;
        let allAnswered = selectedAnswers.every(ans => ans !== null);

        if(!allAnswered && !confirm("Bütün sualları cavablandırmamısınız. Yenə də yoxlamaq istəyirsiniz?")) return;

        story.questions.forEach((q, qIdx) => {
            const correctIdx = q.correct;
            const selectedIdx = selectedAnswers[qIdx];
            
            if (selectedIdx === correctIdx) {
                document.getElementById(`q${qIdx}o${selectedIdx}`).classList.add('correct');
                score++;
            } else if (selectedIdx !== null) {
                document.getElementById(`q${qIdx}o${selectedIdx}`).classList.add('wrong');
                document.getElementById(`q${qIdx}o${correctIdx}`).classList.add('correct');
            } else {
                document.getElementById(`q${qIdx}o${correctIdx}`).classList.add('correct');
            }
        });
        
        document.getElementById('check-btn').disabled = true;
        if (currentStoryIdx < stories.length - 1) {
            document.getElementById('next-btn').style.display = 'block';
        }
        alert(`Nəticə: 10 sualdan ${score} düzgün!`);
    }

    function nextStory() {
        currentStoryIdx++;
        loadStory();
        window.scrollTo(0,0);
    }

    loadStory();
</script>

</body>
</html>
