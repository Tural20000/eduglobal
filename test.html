<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduGlobal - Level Test</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Poppins', sans-serif; background: #f0f2f5; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .test-container { background: white; padding: 30px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); max-width: 500px; width: 90%; text-align: center; }
        .progress-bar { height: 10px; background: #eee; border-radius: 5px; margin-bottom: 20px; overflow: hidden; }
        .progress { height: 100%; background: #3498db; width: 0%; transition: 0.3s; }
        .question { font-size: 1.2rem; font-weight: 600; margin-bottom: 25px; color: #2c3e50; }
        .options { display: grid; gap: 12px; }
        button.opt-btn { padding: 15px; border: 2px solid #3498db; background: white; border-radius: 10px; cursor: pointer; transition: 0.3s; font-size: 1rem; color: #3498db; font-weight: 600; }
        button.opt-btn:hover { background: #3498db; color: white; }
        #result-screen { display: none; }
        .level-badge { font-size: 2.2rem; color: #27ae60; font-weight: bold; margin: 20px 0; border: 3px solid #27ae60; display: inline-block; padding: 10px 20px; border-radius: 10px; }
        .btn-action { display: inline-block; margin-top: 15px; padding: 12px 25px; color: white; text-decoration: none; border-radius: 5px; font-weight: bold; cursor: pointer; border: none; }
    </style>
</head>
<body>

<div class="test-container" id="quiz-box">
    <div class="progress-bar"><div id="progress" class="progress"></div></div>
    <div id="question-text" class="question">Sual yÃ¼klÉ™nir...</div>
    <div id="options-box" class="options"></div>
</div>

<div class="test-container" id="result-screen">
    <h2>Your Result ðŸŽ‰</h2>
    <div id="user-level" class="level-badge">---</div>
    <p id="level-desc" style="margin-bottom: 20px; color: #7f8c8d;"></p>
    <button onclick="window.location.href='study.html?lvl='+finalLvl" style="background:#27ae60" class="btn-action">Start Lessons</button>
</div>

<script>
    const questions = [
        { q: "I ___ a doctor.", a: ["am", "is", "are"], c: "am" },
        { q: "She ___ breakfast every morning.", a: ["eat", "eats", "eating"], c: "eats" },
        { q: "Where ___ you go last night?", a: ["do", "did", "were"], c: "did" },
        { q: "I haven't seen him ___ 2010.", a: ["for", "since", "during"], c: "since" },
        { q: "If I ___ money, I would buy a car.", a: ["have", "had", "will have"], c: "had" },
        { q: "This cake ___ by my mother yesterday.", a: ["was made", "is made", "made"], c: "was made" },
        { q: "I am looking forward to ___ you.", a: ["see", "seeing", "saw"], c: "seeing" },
        { q: "By next year, I ___ my degree.", a: ["will finish", "will have finished", "finished"], c: "will have finished" },
        { q: "He works ___ than his brother.", a: ["hard", "harder", "hardest"], c: "harder" },
        { q: "___ of the students passed the exam.", a: ["None", "No", "Any"], c: "None" },
        { q: "I wish I ___ play the piano.", a: ["can", "could", "will"], c: "could" },
        { q: "___ you mind closing the door?", a: ["Would", "Do", "Should"], c: "Would" },
        { q: "Despite ___ tired, he continued working.", a: ["be", "being", "he was"], c: "being" },
        { q: "Hardly ___ I started when it rained.", a: ["did", "had", "have"], c: "had" },
        { q: "It's time you ___ home.", a: ["go", "went", "gone"], c: "went" }
    ];

    let currentQ = 0; let score = 0; let finalLvl = "A1";

    function showQuestion() {
        document.getElementById("progress").style.width = (currentQ / questions.length * 100) + "%";
        const qData = questions[currentQ];
        document.getElementById("question-text").innerText = (currentQ + 1) + ". " + qData.q;
        const ob = document.getElementById("options-box"); ob.innerHTML = "";
        qData.a.forEach(opt => {
            const btn = document.createElement("button"); btn.innerText = opt; btn.className = "opt-btn";
            btn.onclick = () => { if(opt === qData.c) score++; currentQ++; 
            if(currentQ < questions.length) showQuestion(); else showResult(); };
            ob.appendChild(btn);
        });
    }

    function showResult() {
        document.getElementById("quiz-box").style.display = "none";
        document.getElementById("result-screen").style.display = "block";
        if(score <= 3) finalLvl = "A1"; else if(score <= 6) finalLvl = "A2";
        else if(score <= 9) finalLvl = "B1"; else if(score <= 12) finalLvl = "B2"; else finalLvl = "C1";
        document.getElementById("user-level").innerText = finalLvl;
        document.getElementById("level-desc").innerText = "You answered " + score + " questions correctly.";
    }
    showQuestion();
</script>
</body>
</html>
