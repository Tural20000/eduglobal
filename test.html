<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduGlobal - Level Test</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Poppins', sans-serif; background: #f0f2f5; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .test-container { background: white; padding: 30px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); max-width: 500px; width: 90%; text-align: center; }
        .question { font-size: 1.3rem; font-weight: 600; margin-bottom: 25px; color: #2c3e50; }
        .options { display: grid; gap: 12px; }
        button.opt-btn { padding: 15px; border: 2px solid #3498db; background: white; border-radius: 10px; cursor: pointer; transition: 0.3s; font-size: 1rem; color: #3498db; font-weight: 600; }
        button.opt-btn:hover { background: #3498db; color: white; }
        #result-screen { display: none; }
        .level-badge { font-size: 2.2rem; color: #27ae60; font-weight: bold; margin: 20px 0; border: 3px solid #27ae60; display: inline-block; padding: 10px 20px; border-radius: 10px; }
        .btn-action { display: inline-block; margin-top: 15px; padding: 12px 25px; color: white; text-decoration: none; border-radius: 5px; font-weight: bold; cursor: pointer; border: none; font-size: 1rem; }
        .btn-go { background: #27ae60; margin-right: 10px; }
        .btn-home { background: #34495e; }
    </style>
</head>
<body>

<div class="test-container" id="quiz-box">
    <div id="question-text" class="question">Sual y√ºkl…ônir...</div>
    <div id="options-box" class="options"></div>
</div>

<div class="test-container" id="result-screen">
    <h2>Test Bitdi! üéâ</h2>
    <p>Sizin ƒ∞ngilis dili s…ôviyy…ôniz:</p>
    <div id="user-level" class="level-badge">---</div>
    <p id="level-desc" style="margin-bottom: 20px; color: #7f8c8d;"></p>
    
    <button onclick="goToStudy()" class="btn-action btn-go">D…ôrsl…ôr…ô Ba≈üla</button>
    <br>
    <a href="index.html" class="btn-action btn-home">Ana S…ôhif…ôy…ô Qayƒ±t</a>
</div>

<script>
    const questions = [
        { q: "I ___ a student.", a: ["am", "is", "are"], c: "am" },
        { q: "She ___ to school every day.", a: ["go", "goes", "going"], c: "goes" },
        { q: "Where ___ you yesterday?", a: ["was", "were", "did"], c: "were" },
        { q: "I have ___ to London twice.", a: ["be", "been", "was"], c: "been" },
        { q: "If I ___ you, I would study more.", a: ["was", "am", "were"], c: "were" }
    ];

    let currentQ = 0;
    let score = 0;
    let finalLvl = "A1";

    function showQuestion() {
        const qData = questions[currentQ];
        document.getElementById("question-text").innerText = (currentQ + 1) + ". " + qData.q;
        const optionsBox = document.getElementById("options-box");
        optionsBox.innerHTML = "";
        qData.a.forEach(opt => {
            const btn = document.createElement("button");
            btn.innerText = opt;
            btn.className = "opt-btn";
            btn.onclick = () => nextQuestion(opt);
            optionsBox.appendChild(btn);
        });
    }

    function nextQuestion(answer) {
        if(answer === questions[currentQ].c) score++;
        currentQ++;
        if(currentQ < questions.length) showQuestion();
        else showResult();
    }

    function showResult() {
        document.getElementById("quiz-box").style.display = "none";
        document.getElementById("result-screen").style.display = "block";
        
        let desc = "";
        if(score <= 1) { finalLvl = "A1"; desc = "Beginner - Ba≈ülanƒüƒ±c"; }
        else if(score == 2) { finalLvl = "A2"; desc = "Elementary - T…ôm…ôl"; }
        else if(score == 3) { finalLvl = "B1"; desc = "Intermediate - Orta"; }
        else if(score == 4) { finalLvl = "B2"; desc = "Upper-Intermediate"; }
        else { finalLvl = "C1"; desc = "Advanced - Y√ºks…ôk"; }
        
        document.getElementById("user-level").innerText = finalLvl;
        document.getElementById("level-desc").innerText = desc;
    }

    function goToStudy() {
        window.location.href = "study.html?lvl=" + finalLvl;
    }

    document.addEventListener("DOMContentLoaded", showQuestion);
</script>

</body>
</html>
