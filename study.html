<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduGlobal - Vocabulary Master</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --primary: #3498db; --secondary: #2c3e50; --bg: #f4f7f6; }
        body { font-family: 'Poppins', sans-serif; background: var(--bg); margin: 0; padding: 20px; }
        .container { max-width: 1100px; margin: auto; background: white; padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.05); }
        .header { text-align: center; margin-bottom: 30px; background: var(--secondary); color: white; padding: 30px; border-radius: 15px; }
        .search-box { width: 100%; padding: 15px; border: 2px solid #ddd; border-radius: 10px; font-size: 1rem; margin-bottom: 25px; outline: none; }
        .vocab-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 15px; }
        .vocab-item { display: flex; justify-content: space-between; align-items: center; background: #fff; padding: 15px; border-radius: 12px; border: 1px solid #eee; }
        .word-info b { color: var(--secondary); font-size: 1.1rem; }
        .audio-btn { background: var(--primary); color: white; border: none; width: 45px; height: 45px; border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; }
        .audio-btn:active { transform: scale(0.9); background: #2980b9; }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h1 id="lvl-display">Loading...</h1>
        <p>Listen: First slow, then normal üîä</p>
    </div>

    <input type="text" class="search-box" id="searchInput" placeholder="Search word or translation..." onkeyup="filterWords()">

    <div class="vocab-grid" id="vocab-container"></div>

    <div style="text-align: center; margin-top: 30px;">
        <a href="index.html" style="text-decoration:none; color:var(--primary); font-weight:600;">‚Üê Back to Menu</a>
    </div>
</div>

<script>
    // QEYD: ∆èvv…ôlki mesajdakƒ± allWords massivini bura daxil edin. 
    // M…ôtn limitin…ô g√∂r…ô qƒ±saldƒ±lmƒ±≈ü n√ºmun…ô g√∂st…ôrir…ôm:
    const allWords = {
        'A1': ["Apple-Alma", "Ant-Qarƒ±≈üqa", "Ball-Top", "Book-Kitab", "Bed-Yataq", "Boy-Oƒülan", "Cat-Pi≈üik", "Car-Ma≈üƒ±n", "Cup-Fincan", "Chair-Stul", "Dog-ƒ∞t", "Door-Qapƒ±", "Desk-Masa", "Drink-ƒ∞√ßm…ôk", "Eat-Yem…ôk", "Egg-Yumurta", "Eye-G√∂z", "Ear-Qulaq", "Fish-Balƒ±q", "Fan-Ventilyator"],
        'A2': ["Always-H…ômi≈ü…ô", "About-Haqqƒ±nda", "Address-√únvan", "Afternoon-G√ºnorta", "Again-Yenid…ôn", "Airport-Hava limanƒ±"],
        'B1': ["Abuse-Sui-istifad…ô", "Accept-Q…ôbul etm…ôk", "Accompany-M√º≈üayi…ôt etm…ôk", "According-G√∂r…ô"],
        'B2': ["Abandon-T…ôrk etm…ôk", "Ability-Qabiliyy…ôt", "Absolute-M√ºtl…ôq", "Absorb-Sormaq"],
        'C1': ["Abstain-√á…ôkinm…ôk", "Acumen-Z…ôka", "Adhere-Sadiq qalmaq", "Admonish-N…ôsih…ôt verm…ôk"]
        // ... (Dig…ôr 150-lik siyahƒ±larƒ± …ôvv…ôlki koddan bura k√∂√ß√ºr)
    };

    const urlParams = new URLSearchParams(window.location.search);
    const level = urlParams.get('lvl') || 'A1';
    document.getElementById('lvl-display').innerText = level + " Mastery";

    const container = document.getElementById('vocab-container');
    const wordsRaw = allWords[level] || allWords['A1'];

    function renderWords(filter = "") {
        container.innerHTML = "";
        wordsRaw.forEach(raw => {
            const [en, az] = raw.split("-");
            if (en.toLowerCase().includes(filter.toLowerCase()) || az.toLowerCase().includes(filter.toLowerCase())) {
                const div = document.createElement('div');
                div.className = 'vocab-item';
                div.innerHTML = `
                    <div class="word-info"><b>${en}</b><br><small>${az}</small></div>
                    <button class="audio-btn" onclick="speak('${en}')"><i class="fas fa-volume-up"></i></button>
                `;
                container.appendChild(div);
            }
        });
    }

    function speak(text) {
        // B√ºt√ºn cari s…ôsl…ôri dayandƒ±r ki, √ºst-√ºst…ô d√º≈üm…ôsin
        window.speechSynthesis.cancel();

        const slow = new SpeechSynthesisUtterance(text);
        slow.lang = 'en-US';
        slow.rate = 0.5; 

        const normal = new SpeechSynthesisUtterance(text);
        normal.lang = 'en-US';
        normal.rate = 0.9;

        window.speechSynthesis.speak(slow);
        slow.onend = () => {
            setTimeout(() => { window.speechSynthesis.speak(normal); }, 400);
        };
    }

    function filterWords() {
        renderWords(document.getElementById('searchInput').value);
    }

    renderWords();
</script>
</body>
</html>
