<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduGlobal - Study Room</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #3498db; --secondary: #2c3e50; --success: #27ae60; }
        body { font-family: 'Poppins', sans-serif; background: #f4f7f6; margin: 0; padding: 20px; color: #333; }
        .container { max-width: 900px; margin: auto; background: white; padding: 40px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.05); }
        .header { text-align: center; margin-bottom: 40px; background: var(--secondary); color: white; padding: 30px; border-radius: 15px; }
        
        /* Flashcards Grid */
        .cards-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 20px; margin-top: 20px; }
        
        /* Flip Card Logic */
        .card { width: 100%; height: 120px; perspective: 1000px; cursor: pointer; }
        .card-inner { position: relative; width: 100%; height: 100%; text-align: center; transition: transform 0.6s; transform-style: preserve-3d; box-shadow: 0 4px 8px rgba(0,0,0,0.1); border-radius: 10px; }
        .card.flipped .card-inner { transform: rotateY(180deg); }
        .card-front, .card-back { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; display: flex; align-items: center; justify-content: center; border-radius: 10px; padding: 10px; font-weight: 600; }
        .card-front { background-color: #fff; color: var(--secondary); border: 2px solid var(--primary); }
        .card-back { background-color: var(--primary); color: white; transform: rotateY(180deg); }

        .section { margin-top: 40px; padding: 20px; border-radius: 12px; background: #fff; border: 1px solid #eee; }
        .reading-box { background: #fef9e7; border-left: 5px solid #f1c40f; }
        .btn-nav { display: inline-block; margin-top: 30px; padding: 12px 25px; background: var(--secondary); color: white; text-decoration: none; border-radius: 8px; font-weight: 600; }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h1 id="level-title">Loading...</h1>
        <p>Click on the cards to see the translation!</p>
    </div>

    <div class="section">
        <h2>üìò Grammar Note</h2>
        <p id="grammar-content"></p>
    </div>

    <div class="section">
        <h2>üìù Vocabulary Flashcards</h2>
        <div id="cards-container" class="cards-grid"></div>
    </div>

    <div class="section reading-box">
        <h2>üìñ Reading Practice</h2>
        <p id="reading-text" style="line-height: 1.6;"></p>
    </div>

    <div style="text-align: center;">
        <a href="index.html" class="btn-nav">Main Menu</a>
        <a href="test.html" class="btn-nav" style="background: var(--success);">Retake Test</a>
    </div>
</div>

<script>
    const urlParams = new URLSearchParams(window.location.search);
    const level = urlParams.get('lvl') || 'A1';

    const data = {
        'A1': { title: 'Beginner', grammar: 'Subject Pronouns (I, You, He...) and "To Be".', vocab: {'Apple': 'Alma', 'Book': 'Kitab', 'Sun': 'G√ºn…ô≈ü', 'Water': 'Su'}, reading: 'The sun is hot. I drink water. I read a book.' },
        'A2': { title: 'Elementary', grammar: 'Past Simple (I went, I saw).', vocab: {'Journey': 'S…ôyah…ôt', 'Health': 'Saƒülamlƒ±q', 'Kitchen': 'M…ôtb…ôx', 'Cloud': 'Bulud'}, reading: 'Yesterday was a cloudy day. I went to the kitchen and made some tea.' },
        'B1': { title: 'Intermediate', grammar: 'Present Perfect (I have done).', vocab: {'Decision': 'Q…ôrar', 'Success': 'Uƒüur', 'Impact': 'T…ôsir', 'Resource': 'M…ônb…ô'}, reading: 'I have made a final decision. To achieve success, you must use all resources.' },
        'B2': { title: 'Upper-Intermediate', grammar: 'Conditionals (If I were you...).', vocab: {'Involvement': 'ƒ∞≈ütirak', 'Assessment': 'Qiym…ôtl…ôndirm…ô', 'Feature': 'X√ºsusiyy…ôt', 'Justice': '∆èdal…ôt'}, reading: 'If the assessment were fair, everyone would have justice. Your involvement is key.' },
        'C1': { title: 'Advanced', grammar: 'Passive Reporting Verbs.', vocab: {'Acquisition': '∆èld…ô etm…ô', 'Inevitably': 'Qa√ßƒ±lmaz olaraq', 'Prerequisite': '√ñn ≈ü…ôrt', 'Resilience': 'Davamlƒ±lƒ±q'}, reading: 'Knowledge acquisition is inevitably a lifelong process. Resilience is a prerequisite for high-level mastery.' }
    };

    const current = data[level] || data['A1'];
    document.getElementById('level-title').innerText = 'Level: ' + current.title;
    document.getElementById('grammar-content').innerText = current.grammar;
    document.getElementById('reading-text').innerText = current.reading;
    
    const cardsContainer = document.getElementById('cards-container');
    for (const [eng, aze] of Object.entries(current.vocab)) {
        const cardHtml = `
            <div class="card" onclick="this.classList.toggle('flipped')">
                <div class="card-inner">
                    <div class="card-front">${eng}</div>
                    <div class="card-back">${aze}</div>
                </div>
            </div>`;
        cardsContainer.innerHTML += cardHtml;
    }
</script>

</body>
</html>
