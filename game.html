<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduGlobal - Word Fall Game</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Poppins', sans-serif; background: #2c3e50; margin: 0; overflow: hidden; color: white; text-align: center; }
        #game-container { position: relative; width: 100vw; height: 100vh; background: linear-gradient(to bottom, #2c3e50, #000); }
        .falling-word { position: absolute; font-size: 1.5rem; font-weight: bold; color: #3498db; background: white; padding: 10px 20px; border-radius: 20px; box-shadow: 0 5px 15px rgba(0,0,0,0.3); transition: top 0.1s linear; }
        #input-box { position: absolute; bottom: 50px; left: 50%; transform: translateX(-50%); }
        input { padding: 15px 30px; border-radius: 30px; border: none; font-size: 1.2rem; width: 300px; text-align: center; outline: none; }
        #score-board { position: absolute; top: 20px; left: 20px; font-size: 1.5rem; }
        #lives { position: absolute; top: 20px; right: 20px; font-size: 1.5rem; color: #e74c3c; }
        #start-screen { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; color: #333; padding: 40px; border-radius: 20px; }
        button { background: #27ae60; color: white; border: none; padding: 15px 30px; border-radius: 10px; font-size: 1rem; cursor: pointer; font-weight: bold; }
    </style>
</head>
<body>

<div id="game-container">
    <div id="score-board">Score: <span id="score">0</span></div>
    <div id="lives">Lives: ‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</div>
    
    <div id="start-screen">
        <h1>Word Fall Game üéÆ</h1>
        <p>S√∂zl…ôr yer…ô d…ôym…ôd…ôn onlarƒ±n t…ôrc√ºm…ôsini yazƒ±n!</p>
        <button onclick="startGame()">Start Game</button>
        <br><br>
        <a href="index.html" style="color: #7f8c8d; text-decoration: none;">Back to Home</a>
    </div>

    <div id="input-box" style="display: none;">
        <input type="text" id="word-input" placeholder="Type translation here..." autocomplete="off">
    </div>
</div>

<script>
    const wordBank = [
        {eng: "Apple", aze: "alma"}, {eng: "Bread", aze: "√ß√∂r…ôk"}, {eng: "Water", aze: "su"},
        {eng: "Friend", aze: "dost"}, {eng: "School", aze: "m…ôkt…ôb"}, {eng: "Success", aze: "uƒüur"},
        {eng: "Kitchen", aze: "m…ôtb…ôx"}, {eng: "Healthy", aze: "saƒülam"}, {eng: "Weather", aze: "hava"},
        {eng: "Experience", aze: "t…ôcr√ºb…ô"}, {eng: "Improve", aze: "inki≈üaf"}
    ];

    let score = 0;
    let lives = 3;
    let gameActive = false;
    let currentWords = [];
    const input = document.getElementById("word-input");

    function startGame() {
        document.getElementById("start-screen").style.display = "none";
        document.getElementById("input-box").style.display = "block";
        gameActive = true;
        input.focus();
        spawnWord();
        gameLoop();
    }

    function spawnWord() {
        if (!gameActive) return;
        const randomWord = wordBank[Math.floor(Math.random() * wordBank.length)];
        const wordElement = document.createElement("div");
        wordElement.className = "falling-word";
        wordElement.innerText = randomWord.eng;
        wordElement.style.left = Math.random() * (window.innerWidth - 150) + "px";
        wordElement.style.top = "-50px";
        
        const wordObj = { el: wordElement, aze: randomWord.aze, top: -50 };
        document.getElementById("game-container").appendChild(wordElement);
        currentWords.push(wordObj);

        setTimeout(spawnWord, 2500 - (score * 10)); // Score artdƒ±qca s√ºr…ôtl…ônir
    }

    function gameLoop() {
        if (!gameActive) return;
        currentWords.forEach((word, index) => {
            word.top += 2; // D√º≈üm…ô s√ºr…ôti
            word.el.style.top = word.top + "px";

            if (word.top > window.innerHeight) {
                word.el.remove();
                currentWords.splice(index, 1);
                loseLife();
            }
        });
        requestAnimationFrame(gameLoop);
    }

    input.addEventListener("input", (e) => {
        const val = e.target.value.toLowerCase().trim();
        const foundIndex = currentWords.findIndex(w => w.aze === val);
        
        if (foundIndex !== -1) {
            currentWords[foundIndex].el.remove();
            currentWords.splice(foundIndex, 1);
            score += 10;
            document.getElementById("score").innerText = score;
            input.value = "";
        }
    });

    function loseLife() {
        lives--;
        document.getElementById("lives").innerText = "Lives: " + "‚ù§Ô∏è".repeat(lives);
        if (lives <= 0) {
            gameActive = false;
            alert("Game Over! Your Score: " + score);
            location.reload();
        }
    }
</script>

</body>
</html>
